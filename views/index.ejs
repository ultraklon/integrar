<!DOCTYPE html>
<html lang="en">
<head id="cabecera">
    <meta charset="utf-8">
    <title>TINTEGR.AR TEST</title>

    <link rel="stylesheet" href="css/jquery-ui.css">
    <link href="css/bootstrap.css" rel="stylesheet">
    <!-- <link href="js/slick/slick.grid.css" rel="stylesheet">
     -->
   <!-- <link href="css/grid.css" rel="stylesheet"> -->
	 <script type="text/javascript" src="js/jquery-1.8.3.js"></script>

	<script type="text/javascript" src="js/underscore.js"></script>
	<script type="text/javascript" src="js/backbone.js"></script>
	
	<script type="text/javascript" src="js/jqwidgets/jqwidgets/jqxcore.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqwidgets/jqxchart.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqwidgets/jqxdata.js"></script>
<!-- 	
<script type="text/javascript" src="js/view.grid.js" ></script>
	<script type="text/javascript" src="js/slick/jquery-ui-1.8.16.custom.min.js"></script>
	<script type="text/javascript" src="js/slick/jquery.event.drag-2.0.min.js"></script>
	<script type="text/javascript" src="js/slick/slick.grid.min.js"></script>
	<script type="text/javascript" src="js/backend.csv.js"></script>
	<script type="text/javascript" src="js/model.js"></script>
	<script type="text/javascript" src="js/recline.js"></script>
 -->
</head>
<body>
	  <div class="navbar navbar-fixed-top">
     <div class="navbar-inner">
       <div class="container">
         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
           <span class="icon-bar"></span>
           <span class="icon-bar"></span>
           <span class="icon-bar"></span>
         </a>
         <a class="brand" href="#" style="text-transform: none;">INTEGR.AR TEST</a>
         <div class="nav-collapse">
          <ul class="nav">
            <li class="divider-vertical"></li>
            <li class="active">

              <a href="/api/discapacitados/">Discapacitados</a>
            </li>
            <li>
              <a href="#">Registrarse</a>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#">Filtrar <b class="caret"></b></a>
              <ul class="dropdown-menu" id="swatch-menu">
                <li><a href="">Nombre</a></li>
                <li class="divider"></li>
                <li><a href="">Tamaño</a></li>
                <li><a href="">Fecha</a></li>
              </ul>
            </li>
            
          </ul>

          <ul class="nav pull-right">
            
            <form class="navbar-search pull-left" action>
              <input type="text" class="search-query span2" placeholder="Buscar...">
            </form>
            <li class="divider-vertical"></li>
            
          </ul>
         </div>
       </div>
     </div>
   </div>

		<div class="row-fluid show-grid" style="margin-top:5%;">
			<div class="span4">
				<div id="dvPais">
					<p>País</p>
				</div>
			</div>
			<div class="span4">
				<ul class="nav nav-tabs">
					<li class="active">
						<a href="#">Educación</a>
					</li>
					<li>
						<a href="#">Hospitales</a>
					</li>
					<li >
						<a href="#">Tramites</a>
					</li>
					<li 	>
						<a href="#">Desarrollo Social</a>
					</li>
				</ul>
				
				<div id="Educacion">

					  <div id='jqxChart' style="width:680px; height:400px; position: relative; left: 0px; top: 0px;">
    				</div>
				</div>	
			</div>

			<div class="span4">

			</div>
		</div>

	<!-- 
	<div class="page-header">
        <h1>INTEGR.AR</h1>
     </div>
	<div class="bs-docs-grid">
		<div class="row-fluid show-grid">
			<div class="span4">

			</div>
			<div class="span4">

 					<input type="text" class="search-query" id="txtDestino" placeholder="Origen"/>
 			</div>
 
			<div class="span4">
			</div>
		</div>
		<br/>
		<div class="row-fluid show-grid">
			<div class="span4">

			</div>
			<div class="span4">

 					<input type="text" class="search-query"  placeholder="Destino"/>
 			</div>

			<div class="span4">
			</div>
		</div>
		<br/>
		<div class="row-fluid show-grid">
			<div class="span2">

			</div>
			<div class="span4">
				<div id="dvGrid" ></div>
 			</div>

			<div class="span4">
			</div>
		</div>
		
	</div>
 					
	 -->
</body>
</html>
<script type="text/javascript">
var sampleData =  [];
$.ajax({
  dataType: "json",
  url: 'http://localhost:3000/api/discapacitados/',
  //data: data,
  success: function(data){

  		//console.log(data.csvRows);
  		
  		
  		for (var i = 0; i < data.csvRows.length; i++) {
		  element = data.csvRows[i];
		  
		  sampleData.push(
		    	{provincia: element.provincia, total: element.total}
			);
		  console.log(element.total);
		}

  		//sampleData = data.csvRows; 	
		var settings = {
		        title: "Total de Personas",
		        description: "Estadisticas",
		        showLegend: true,
		        enableAnimations: true,
		        padding: { left: 20, top: 5, right: 20, bottom: 5 },
		        titlePadding: { left: 90, top: 0, right: 0, bottom: 10 },
		        source: sampleData,
		        categoryAxis:
		            {
		                dataField: 'provincia',
		                showGridLines: true,
		                flip: false
		            },
		        colorScheme: 'scheme01',
		        seriesGroups:
		            [
		                {
		                    type: 'column',
		                    orientation: 'horizontal',
		                    columnsGapPercent: 1000,
		                   // toolTipFormatSettings: { thousandsSeparator: ',' },
		                    valueAxis:
		                    {
		                        flip: true,
		                        unitInterval: 10000,
		                        maxValue: 70000,
		                        displayValueAxis: true,
		                        description: '',
		                        formatFunction: function (value) {
		                            return parseInt(value / 10000);
		                        }
		                    },
		                    series: [
		                            { dataField: 'total', displayText: 'Total (miles)' }
		                        ]
		                }
		            ]
		    };
		    // setup the chart
		    $('#jqxChart').jqxChart(settings);
  }
});
		

 /* [
    { Provincia: 'Buenos Aires', Population: 6893, Percent: 19.18},
    { Provincia: 'India', Population: 1210193422, Percent: 17.22},
    { Provincia: 'USA', Population: 313912000, Percent: 4.47},
    { Provincia: 'Indonesia', Population: 237641326, Percent: 3.38},
    { Provincia: 'Brazil', Population: 192376496, Percent: 2.74}];
 */   // prepare jqxChart settings
    
</script>